<link rel="import" href="./custom-html-element.html">
<link rel="import" href="./component-tutorial-header.html">
<link rel="import" href="./component-tutorial-sidenav.html">
<link rel="import" href="./vanilla-drawer-layout.html">

<template id="component-tutorial-page-template">
  <vanilla-drawer-layout>
    <component-tutorial-sidenav slot="drawer"></component-tutorial-sidenav>
    <div class="main-panel">
      <component-tutorial-header>
        <slot name="header-title" slot="title"></slot>
      </component-tutorial-header>
      <div class="body">
        <slot></slot>
        <div class="footer-links">
          <slot name="footer-link"></slot>
        </div>
      </div>
    </div>
  </vanilla-drawer-layout>

  <style>
    /* Polyfill support */
    component-tutorial-page {
      display: block;
      height: 100vh;
      width: 100vw;
    }

    :host {
      display: block;
      height: 100vh;
      width: 100vw;
    }

    .main-panel {
      background-color: #fafafa;
      height: 100%;
    }

    .main-panel .body {
      position: relative;
      overflow-y: scroll;
      height: calc(100% - var(--header-height, 56px));
    }

    .body ::slotted(div.content) {
      margin: auto;
      overflow-y: auto;
      min-height: calc(100% - 86px);
      width: 1160px;
    }

    .footer-links {
      display: flex;
      flex-flow: column wrap;
      background: #f4f5f6;
      bottom: 0;
      left: 0;
      right: 0;
      max-height: 86px;
    }

    .footer-links ::slotted(a) {
      display: flex;
      align-items: center;
      height: 86px;
      color: var(--secondary-text-on-dark-color, rgba(255,255,255,.87));
      font-family: sans-serif;
      font-size: 20px;
      font-weight: bold;
      text-decoration: none;
      box-sizing: border-box;
      width: 50%;
      background-repeat: no-repeat;
    }
    .footer-links ::slotted(a.left) {
      background-color: var(--accent-color, #4CAF50);
      justify-content: flex-start;
      padding-left: 16%;
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'><g><path fill='rgba(255,255,255,.87)' d='M20,11V13H8L13.5,18.5L12.08,19.92L4.16,12L12.08,4.08L13.5,5.5L8,11H20Z' /></g></svg>");
      background-position: calc(32% - 24px) center;
    }
    .footer-links ::slotted(a.right) {
      background-color: var(--primary-color, #673AB7);
      justify-content: flex-end;
      padding-right: 16%;
      background-image: url("data:image/svg+xml;utf8,<svg xmlns='http://www.w3.org/2000/svg' width='24' height='24' viewBox='0 0 24 24'><g><path fill='rgba(255,255,255,.87)' d='M4,11V13H16L10.5,18.5L11.92,19.92L19.84,12L11.92,4.08L10.5,5.5L16,11H4Z'></path></g></svg>");
      background-position: calc(68% + 24px) center;
      align-self: flex-end;
    }
    @media(max-width: 1240px) {
      .body ::slotted(div.content) {
        width: 760px;
      }
    }

    @media(max-width: 800px) {
      .body ::slotted(div.content) {
        width: 360px;
      }
    }

    @media(max-width: 520px) {
      .footer-links {
        flex-flow: column;
        max-height: 122px;
      }
      .footer-links ::slotted(a) {
        width: 100%;
      }
      .footer-links ::slotted(a.left) {
        padding-left: 32%;
      }
      .footer-links ::slotted(a.right) {
        padding-right: 32%;
      }
    }

    @media(max-width: 380px) {
      .body ::slotted(div.content) {
        margin: 0 16px;
        width: calc(100vw - 32px);
      }
    }
  </style>
</template>

<script>
{
  let doc;
  if (document._currentScript) {
    doc = document._currentScript.ownerDocument;
  } else {
    doc = document.currentScript.ownerDocument;
  }
  class ComponentTutorialPage extends CustomHTMLElement {
    static get is() {
      return 'component-tutorial-page';
    }
    static get _document() {
      return doc;
    }
  }

  customElements.define(ComponentTutorialPage.is, ComponentTutorialPage);
}
</script>
