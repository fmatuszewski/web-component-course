<!DOCTYPE html>

<my-element></my-element>

<p>Our style is encapsulated! :)</p>

<template id="my-element-template">
  <h1>Styling</h1>
  <p>If we use shadow DOM</p>
  <style>
    p {
      color: red;
    }
  </style>
</template>

<script>
class MyElement extends HTMLElement {
  connectedCallback() {
    let template = document.getElementById('my-element-template');
    let content = template.content.cloneNode(true);
    this.attachShadow({mode: 'open'});    // Instead of attaching the Template content directly as a child,
    this.shadowRoot.appendChild(content); // We create a Shadow Root, and attach the template inside
  }
}

customElements.define('my-element', MyElement);
</script>
